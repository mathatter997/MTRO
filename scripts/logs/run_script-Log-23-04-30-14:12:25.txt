Sun Apr 30 14:12:25 2023: Starting simulation at run_script-Log-23-04-30-14:12:25.Log is also stored in output file at ./logs/run_script-Log-23-04-30-14:12:25.txtMQ2008
Sun Apr 30 14:12:25 2023: Read   0: Fold 1 of dataset MQ2008.
Sun Apr 30 14:12:25 2023: No group information is provided.
Sun Apr 30 14:12:25 2023: collected!
Sun Apr 30 14:12:25 2023: collected!
Sun Apr 30 14:12:25 2023: Launch 0: algo/PDBTR/perfect/200/10/0.1-0.99999977-1 0 with click model perfect on fold 1 from dataset MQ2008.
Sun Apr 30 14:12:25 2023: collected!
Sun Apr 30 14:12:25 2023: Read   1: Fold 2 of dataset MQ2008.
Sun Apr 30 14:12:26 2023: No group information is provided.
Sun Apr 30 14:12:25 2023: setting up ranker...
Sun Apr 30 14:12:25 2023: ranker set up complete
Sun Apr 30 14:12:25 2023: loop through impressions: 200
Sun Apr 30 14:12:25 2023: [[ 0.          0.          0.         ...  0.          0.
Sun Apr 30 14:12:25 2023:    0.        ]
Sun Apr 30 14:12:25 2023:  [ 0.04446941 -0.02344772 -0.00197494 ... -0.00496263  0.01949812
Sun Apr 30 14:12:25 2023:    0.02057996]
Sun Apr 30 14:12:25 2023:  [ 0.06426751  0.05561705  0.04240148 ... -0.01908507  0.05954979
Sun Apr 30 14:12:25 2023:   -0.00016158]
Sun Apr 30 14:12:25 2023:  ...
Sun Apr 30 14:12:25 2023:  [-0.0313736  -0.0751149  -0.0188781  ... -0.02308698 -0.05985604
Sun Apr 30 14:12:25 2023:    0.03236094]
Sun Apr 30 14:12:25 2023:  [-0.0495457  -0.04643767  0.00518512 ...  0.00058201  0.06013131
Sun Apr 30 14:12:25 2023:    0.01835116]
Sun Apr 30 14:12:25 2023:  [-0.02025438 -0.04093583 -0.03664908 ... -0.05848739  0.01671153
Sun Apr 30 14:12:25 2023:   -0.01006212]] [ 0.    -0.072 -0.076 -0.007  0.     0.     0.     0.     0.     0.
Sun Apr 30 14:12:26 2023:   0.     0.     0.    -0.075  0.     0.     0.     0.     0.     0.
Sun Apr 30 14:12:26 2023:   0.     0.     0.     0.     0.     0.     0.     0.     0.     0.
Sun Apr 30 14:12:26 2023:   0.     0.     0.     0.    -0.013 -0.071  0.    -0.051  0.     0.
Sun Apr 30 14:12:26 2023:   0.    -0.052  0.     0.     0.     0.    -0.001  0.    -0.068  0.
Sun Apr 30 14:12:26 2023:  -0.065  0.     0.     0.     0.     0.     0.     0.     0.     0.
Sun Apr 30 14:12:26 2023:  -0.064  0.     0.    -0.059 -0.069  0.     0.     0.    -0.061 -0.019
Sun Apr 30 14:12:26 2023:   0.    -0.005  0.     0.     0.     0.     0.     0.     0.     0.
Sun Apr 30 14:12:26 2023:  -0.079  0.     0.     0.     0.     0.     0.     0.    -0.093  0.
Sun Apr 30 14:12:26 2023:   0.     0.     0.   ]
Sun Apr 30 14:12:26 2023: [[ 3.84441787e-02 -9.63499230e-03 -1.35237725e-02 ... -2.00834473e-03
Sun Apr 30 14:12:26 2023:    1.48271522e-02 -5.86745752e-03]
Sun Apr 30 14:12:26 2023:  [ 5.25250389e-02 -6.54937151e-02 -1.30006437e-02 ...  2.92114556e-02
Sun Apr 30 14:12:26 2023:   -9.19017095e-03 -1.02765748e-03]
Sun Apr 30 14:12:26 2023:  [ 1.69087974e-02 -1.78193261e-02  8.79985592e-03 ... -4.11150659e-03
Sun Apr 30 14:12:26 2023:   -4.52008517e-03  4.56029638e-02]
Sun Apr 30 14:12:26 2023:  ...
Sun Apr 30 14:12:26 2023:  [ 3.44096029e-02  5.61595316e-03 -7.36132871e-02 ... -2.00819495e-02
Sun Apr 30 14:12:26 2023:    4.80546764e-02 -4.57274342e-02]
Sun Apr 30 14:12:26 2023:  [ 1.89182582e-02 -4.49871550e-02 -6.58799405e-02 ... -2.06050023e-02
Sun Apr 30 14:12:26 2023:   -9.28568173e-05  3.82286237e-02]
Sun Apr 30 14:12:26 2023:  [ 4.49203898e-02 -3.81470012e-03  8.25970607e-03 ...  2.99263709e-02
Sun Apr 30 14:12:26 2023:    2.06105597e-02 -1.86828548e-02]] [ 0.     0.     0.     0.     0.     0.    -0.005 -0.003  0.     0.
Sun Apr 30 14:12:26 2023:   0.     0.     0.     0.     0.     0.    -0.123  0.    -0.001 -0.12
Sun Apr 30 14:12:26 2023:   0.     0.    -0.139  0.     0.     0.     0.     0.    -0.004  0.
Sun Apr 30 14:12:26 2023:   0.     0.     0.    -0.001  0.     0.     0.     0.     0.     0.
Sun Apr 30 14:12:26 2023:   0.    -0.001  0.    -0.112 -0.002  0.     0.     0.    -0.016  0.
Sun Apr 30 14:12:26 2023:   0.     0.    -0.018  0.     0.     0.    -0.001 -0.003  0.     0.
Sun Apr 30 14:12:26 2023:   0.     0.    -0.021  0.     0.     0.     0.     0.     0.     0.
Sun Apr 30 14:12:26 2023:   0.     0.    -0.003  0.     0.    -0.131  0.     0.    -0.148  0.
Sun Apr 30 14:12:26 2023:   0.    -0.147 -0.001  0.     0.     0.     0.     0.     0.     0.
Sun Apr 30 14:12:26 2023:   0.     0.     0.   ]
Sun Apr 30 14:12:26 2023: [[ 0.08831756  0.00534297  0.0025404  ...  0.0148343  -0.00923663
Sun Apr 30 14:12:26 2023:   -0.02262751]
Sun Apr 30 14:12:26 2023:  [ 0.03667907  0.01647669 -0.00672832 ... -0.02717692  0.08342626
Sun Apr 30 14:12:26 2023:   -0.02663824]
Sun Apr 30 14:12:26 2023:  [ 0.05822557 -0.00526512 -0.0317407  ... -0.03131627 -0.01484893
Sun Apr 30 14:12:26 2023:    0.00555925]
Sun Apr 30 14:12:26 2023:  ...
Sun Apr 30 14:12:26 2023:  [ 0.04281913  0.03609193  0.02329503 ...  0.03879208 -0.01965098
Sun Apr 30 14:12:26 2023:   -0.04984102]
Sun Apr 30 14:12:26 2023:  [ 0.08337641  0.02095161  0.01523805 ...  0.0068278  -0.01424239
Sun Apr 30 14:12:26 2023:    0.00128376]
Sun Apr 30 14:12:26 2023:  [ 0.0348121   0.01957706  0.03390636 ...  0.01632661 -0.00897939
Sun Apr 30 14:12:26 2023:    0.00077398]] [ 0.     0.019  0.029  0.024 -0.003  0.004  0.022 -0.016  0.02   0.018
Sun Apr 30 14:12:26 2023:   0.023  0.016  0.001 -0.007  0.016  0.005  0.034  0.016  0.002 -0.023
Sun Apr 30 14:12:26 2023:   0.025  0.022  0.009  0.034  0.018 -0.004  0.001 -0.004  0.019  0.024
Sun Apr 30 14:12:26 2023:  -0.009  0.022  0.021  0.034  0.01   0.026  0.02   0.029  0.002  0.028
Sun Apr 30 14:12:26 2023:   0.02   0.007  0.018  0.013  0.018 -0.01   0.016  0.02  -0.001  0.025
Sun Apr 30 14:12:26 2023:   0.001  0.015  0.021  0.022  0.02  -0.01   0.029 -0.01   0.022  0.01
Sun Apr 30 14:12:26 2023:  -0.007  0.005  0.034  0.022 -0.01   0.026  0.02   0.028  0.001  0.016
Sun Apr 30 14:12:26 2023:  -0.003 -0.004  0.002  0.001 -0.009 -0.008  0.034  0.027  0.017  0.027
Sun Apr 30 14:12:26 2023:  -0.004  0.021  0.008  0.024 -0.007  0.016 -0.005  0.017  0.017  0.028
Sun Apr 30 14:12:26 2023:   0.014  0.018  0.034]
Sun Apr 30 14:12:26 2023: Process Process-1:
Sun Apr 30 14:12:26 2023: Traceback (most recent call last):
Sun Apr 30 14:12:26 2023:   File "/usr/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
Sun Apr 30 14:12:26 2023:     self.run()
Sun Apr 30 14:12:26 2023:   File "/usr/lib/python3.7/multiprocessing/process.py", line 99, in run
Sun Apr 30 14:12:26 2023:     self._target(*self._args, **self._kwargs)
Sun Apr 30 14:12:26 2023:   File "../utils/datasimulation.py", line 124, in start_run
Sun Apr 30 14:12:26 2023:     simulation.run(ranker, output_key=output_key)
Sun Apr 30 14:12:26 2023:   File "../utils/singlesimulation.py", line 116, in run
Sun Apr 30 14:12:26 2023:     ranking_i, train_ranking = self.sample_and_rank(ranker)
Sun Apr 30 14:12:26 2023:   File "../utils/singlesimulation.py", line 97, in sample_and_rank
Sun Apr 30 14:12:26 2023:     train_ranking = ranker.get_train_query_ranking(ranking_i)
Sun Apr 30 14:12:26 2023:   File "../algorithms/basiconlineranker.py", line 98, in get_train_query_ranking
Sun Apr 30 14:12:26 2023:     self._last_ranking = self._create_train_ranking(query_id, query_feat, inverted)[:self.n_results]
Sun Apr 30 14:12:26 2023:   File "../algorithms/DBTR/pdbtr.py", line 86, in _create_train_ranking
Sun Apr 30 14:12:26 2023:     multileaved_list = self.multileaving.make_multileaving(inverted_rankings)
Sun Apr 30 14:12:26 2023:   File "../multileaving/ProbabilisticMultileave.py", line 43, in make_multileaving
Sun Apr 30 14:12:26 2023:     choice = np.random.choice(ind, p=probs, replace=False)
Sun Apr 30 14:12:26 2023:   File "mtrand.pyx", line 981, in numpy.random.mtrand.RandomState.choice
Sun Apr 30 14:12:26 2023:   File "<__array_function__ internals>", line 6, in cumsum
Sun Apr 30 14:12:26 2023:   File "/home/matthew/DBDG/OnlineLearningToRank/env/lib/python3.7/site-packages/numpy/core/fromnumeric.py", line 2532, in cumsum
Sun Apr 30 14:12:26 2023:     return _wrapfunc(a, 'cumsum', axis=axis, dtype=dtype, out=out)
Sun Apr 30 14:12:26 2023:   File "/home/matthew/DBDG/OnlineLearningToRank/env/lib/python3.7/site-packages/numpy/core/fromnumeric.py", line 51, in _wrapfunc
Sun Apr 30 14:12:26 2023:     def _wrapfunc(obj, method, *args, **kwds):
Sun Apr 30 14:12:26 2023: KeyboardInterrupt
Sun Apr 30 14:12:26 2023: Traceback (most recent call last):
Sun Apr 30 14:12:26 2023:   File "run_script.py", line 184, in <module>
Sun Apr 30 14:12:26 2023:     set_sim_and_run(input_args)
Sun Apr 30 14:12:26 2023:   File "run_script.py", line 176, in set_sim_and_run
Sun Apr 30 14:12:26 2023:     return switcher.get(algo, lambda: "ERROR: algorithm type not valid")()
Sun Apr 30 14:12:26 2023:   File "run_script.py", line 171, in <lambda>
Sun Apr 30 14:12:26 2023:     'PDBTR': lambda: func_pdbtr(args, dir_name),
Sun Apr 30 14:12:26 2023:   File "run_script.py", line 120, in func_pdbtr
Sun Apr 30 14:12:26 2023:     sim.run(ranker)
Sun Apr 30 14:12:26 2023:   File "../utils/datasimulation.py", line 58, in run
Sun Apr 30 14:12:26 2023:     for process in self.load_processes(datasets, ranker_tuples):
Sun Apr 30 14:12:26 2023:   File "../utils/datasimulation.py", line 77, in load_processes
Sun Apr 30 14:12:26 2023:     for proc in self.load_datafold_processes(datafold, ranker_tuples):
Sun Apr 30 14:12:26 2023:   File "../utils/datasimulation.py", line 90, in load_datafold_processes
Sun Apr 30 14:12:26 2023:     self.wait_for_output()
Sun Apr 30 14:12:26 2023:   File "../utils/datasimulation.py", line 164, in wait_for_output
Sun Apr 30 14:12:26 2023:     output_key, run_output = self.output_queue.get(block=not found, timeout=timeout)
Sun Apr 30 14:12:26 2023:   File "/usr/lib/python3.7/multiprocessing/queues.py", line 104, in get
Sun Apr 30 14:12:26 2023:     if not self._poll(timeout):
Sun Apr 30 14:12:26 2023:   File "/usr/lib/python3.7/multiprocessing/connection.py", line 257, in poll
Sun Apr 30 14:12:26 2023:     return self._poll(timeout)
Sun Apr 30 14:12:26 2023:   File "/usr/lib/python3.7/multiprocessing/connection.py", line 414, in _poll
Sun Apr 30 14:12:26 2023:     r = wait([self], timeout)
Sun Apr 30 14:12:26 2023:   File "/usr/lib/python3.7/multiprocessing/connection.py", line 921, in wait
Sun Apr 30 14:12:26 2023:     ready = selector.select(timeout)
Sun Apr 30 14:12:26 2023:   File "/usr/lib/python3.7/selectors.py", line 415, in select
Sun Apr 30 14:12:26 2023:     fd_event_list = self._selector.poll(timeout)
Sun Apr 30 14:12:26 2023: KeyboardInterrupt
